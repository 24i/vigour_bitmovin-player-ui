/*!
 * Copyright (C) 2016, bitmovin GmbH, All Rights Reserved
 *
 * Authors: Mario Guggenberger <mario.guggenberger@bitmovin.com>
 *
 * This source code and its use and distribution, is subject to the terms
 * and conditions of the applicable license agreement.
 */

.ui-seekbar {
  font-size: 1em;
  height: 1em;
  margin: 0.2em;
  width: 100%;
  position: relative;

  $position-marker-width: 0.3em;
  $bar-inset: 0.3em;

  .seekbar {
    position: relative;
    overflow-x: hidden;
    height: 100%;
    //background-color: lighten($controlbar-background-color, 10%);

    %bar {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      right: auto;
    }

    .seekbar-backdrop {
      @extend %bar;
      background-color: lighten($controlbar-background-color, 20%);
      margin: $bar-inset 0 $bar-inset 0;
      width: 100%;
    }

    .seekbar-bufferlevel {
      @extend %bar;
      background-color: $button-image-color-active;
      transition: width 0.3s linear, height 0.3s linear;
      margin: $bar-inset 0 $bar-inset 0;
    }

    .seekbar-seekposition {
      @extend %bar;
      background-color: transparentize(white, 0.8);
      margin: $bar-inset 0 $bar-inset 0;
    }

    .seekbar-playbackposition {
      @extend %bar;
      transition: width 0.1s linear, height 0.1s linear;

      // position marker
      border-right: $position-marker-width solid white;
      // offset position marker to center it on mouse pointer and make it visible on both the leftmost and rightmost timeline positions
      margin-left: -$position-marker-width / 2;
    }
  }

  // disable animations during seeks
  &.seeking {
    .seekbar {
      .seekbar-bufferlevel,
      .seekbar-playbackposition {
        transition: none;
      }
    }
  }

  &.vertical {
    .seekbar {
      //overflow-y: hidden;
      height: 100%;
      width: auto;

      %bar-vertical {
        top: auto;
        right: 0;
      }

      .seekbar-backdrop {
        @extend %bar-vertical;
        margin: 0 $bar-inset 0 $bar-inset;
        height: 100%;
        width: auto;
      }

      .seekbar-bufferlevel {
        @extend %bar-vertical;
        margin: 0 $bar-inset 0 $bar-inset;
      }

      .seekbar-seekposition {
        @extend %bar-vertical;
        margin: 0 $bar-inset 0 $bar-inset;
      }

      .seekbar-playbackposition {
        @extend %bar-vertical;

        // position marker
        border-right: 0;
        border-top: $position-marker-width solid white;
        // offset position marker to center it on mouse pointer and make it visible on both the bottommost and topmost positions
        margin-bottom: -$position-marker-width / 2;
      }
    }
  }
}